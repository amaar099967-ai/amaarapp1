name: Deploy Electrical Accounting App

on:
  push:
    branches: [ "main" ]
  workflow_dispatch:

permissions:
  contents: write
  pages: write
  id-token: write

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸ“¥ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„ÙƒÙˆØ¯
      uses: actions/checkout@v4
      with:
        persist-credentials: false
        
    - name: ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª
      run: |
        echo "âœ… Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©:"
        ls -la
        echo ""
        echo "ğŸ“ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª:"
        find . -type f -name "*.html" -o -name "*.js" -o -name "*.css" -o -name "*.json" | sort
        echo ""
        echo "ğŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù„ÙØ§Øª:"
        find . -type f | wc -l
        
    - name: ğŸš€ Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ GitHub Pages
      uses: JamesIves/github-pages-deploy-action@v4
      with:
        branch: gh-pages
        folder: .  # âš  Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ø¬Ø°Ø±
        clean: true
        single-commit: true
        
    - name: ğŸ“¢ Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø´Ø±
      run: |
        echo "ğŸ‰ ØªÙ… Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­!"
        echo "ğŸŒ Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ: https://${{ github.repository_owner }}.github.io/${{ github.event.repository.name }}/"
        echo ""
        echo "ğŸ“… ÙˆÙ‚Øª Ø§Ù„Ù†Ø´Ø±: $(date)"
        echo "ğŸ”— Ø±Ø§Ø¨Ø· Ø§Ù„Ø³ÙŠØ±: https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }}"
